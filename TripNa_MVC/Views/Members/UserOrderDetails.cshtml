@model TripNa_MVC.Models.OrderDetail
@{
    ViewData["Title"] = "UserOrderDetails";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>UserOrderDetails</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>

<style>

    .block #OrderListTatble tr td img {
        object-fit: cover;
        height: 100px;
        height: 100px;
    }

    body #myscore {
        border-style: initial;
        height: 200px;
        border: 1px solid #3A326D;
    }


    #star {
        font-size: 20px;
        margin: 0;
    }

        #star:hover {
            cursor: pointer;
        }

    .rank-rated {
        color: #f6be00;
    }

    .rank-not-rated {
        color: #a2a2a2;
    }

</style>




<div class="container">

    <div>
        <h1 class="text-center">TripNa Member Center</h1>

        <h4 id="title" class="text-center"> 會員中心</h4>
    </div>



    <br>

    <div id="topIcon" class="row">

        <div class="col-sm-2 text-center"></div>

        <div class="col-sm-8 text-center">
            <a asp-area="" asp-controller="Members" asp-action="UserOrder"><img src="~/_img/png/click_myorder.png" alt=""></a>
            <a asp-area="" asp-controller="Members" asp-action="UserCoupon"><img src="~/_img/png/coupon.png" alt=""></a>
            <a asp-area="" asp-controller="Members" asp-action="UserCollect"><img src="~/_img/png/likelist.png" alt=""></a>
            <a asp-area="" asp-controller="Members" asp-action="MemberCenter"><img src="~/_img/png/mydata.png" alt=""></a>
            <a asp-area="" asp-controller="Guiders" asp-action="SignUp"><img src="~/_img/png/sign.png" alt=""></a>
        </div>

        <div class="col-sm-2 text-center"></div>

    </div>


    <hr style='background-color:#3A326D; height:1px; border:none;'>

    @foreach (var order in Model.Orders)
    {
    <table id="listtable" class="table table-striped table-hover">

        <thead>
            <tr id="trTitle">
                <th class="text-center">
                    產品名稱
                </th>
                <th class="text-center">
                    地區
                </th>
                <th class="text-center">
                    出發日期
                </th>
                <th class="text-center">
                    人數
                </th>
                @* <th class="text-center">
                    天數
                </th> *@
                <th class="text-center">
                    金額
                </th>
                <th class="text-center">
                    導遊
                </th>
                <th class="text-center">
                    訂單狀態
                </th>
            </tr>
        </thead>



         
           

        <tbody>
            <tr id="trContent">
                <td class="text-center  ">
                    <a href="javascript:"
                       onclick="document.all.fullContent.style.display=(document.all.fullContent.style.display=='none')?'':'none';document.all.smallContent.style.display=(document.all.smallContent.style.display=='none')?'':'none'">
                    @order.Itinerary.ItineraryName▼</a>


                <td class="text-center">
                            @(order.Itinerary.ItineraryName.Substring(0,2))

                </td>



                <td class="text-center">
              @(order.Itinerary.ItineraryStartDate.ToString("yyyy/MM/dd"))

                </td>

                <td class="text-center">
                    @order.Itinerary.ItineraryPeopleNo
                </td>

               @*  <td class="text-center">
                    1
                </td> *@

                <td class="text-center">
                        NT$@order.OrderTotalPrice.ToString("N0")
                        
                </td>

                <td class="text-center">
                    <img src="./_img/png/導遊.png" style="border-radius: 50%;" height="50px " width="50px">
                    <br>
                    @order.Guider.GuiderNickname
                </td>

                <td class="text-center">
                    @order.OrderStatus
                                               
                </td>


            </tr>
            <tr>
                
            </tr>
        </tbody>
    </table>

      
      
            <p>
                @order.Spots.SpotName
            </p>
      

    <div class="block" id="fullContent" style="display:none;">

        <table id="OrderListTatble" class="table table-striped ">

            <tr id="trOrderList">
                <td>
                </td>

                <td class="text-center">
                    <br>
                    <img src="./_img/journey/cvnmiwjfbm5.jpg">
                    <br>
                    知高圳步道
                    <br>

                </td>


                <td class="text-center">
                    <br>
                    <img src="./_img/journey/TC-2.jpg" height="100px " width="100px">
                    <br>
                    筏子溪
                    <br>

                </td>


                <td class="text-center">
                    <br>
                    <img src="./_img/journey/TC-3.jpg" height="100px " width="100px">
                    <br>
                    宮太鮮小籠湯包
                    <br>

                </td>


                <td class="text-center">
                    <br>
                    <img src="./_img/journey/TC-beer.jpg" height="100px " width="100px">
                    <br>
                    烏日啤酒觀光工廠
                    <br>

                </td>


                <td class="text-center">
                    <br>
                    <img src="./_img/journey/TC-gu.jpg" height="100px " width="100px">
                    <br>
                    聚奎居
                    <br>

                </td>




            </tr>

        </table>
    </div>

    <br>


    <div id="myDetail">

        <table class="table ">

            <thead>
                <tr>
                    <th colspan="2" scope="col">訂單資訊</th>
                    <th colspan="2" scope="col">訂購人資訊</th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <th scope="row">訂單編號</th>
                    <td>@order.OrderNumber</td>
                    <th scope="row">姓名</th>
                    <td>@order.Member.MemberName</td>
                </tr>
                <tr>
                    <th scope="row">訂購時間</th>
                        <td>
                            @(order.OrderDate.ToString("yyyy/MM/dd"))
                        </td>
                    <th scope="row">手機</th>
                    <td>@order.Member.MemberPhone</td>
                </tr>
                <tr>
                    <th scope="row">訂單狀態</th>
                    <td>@order.OrderStatus</td>
                    <th scope="row">E-mail</th>
                    <td>@order.Member.MemberEmail</td>
                </tr>

            </tbody>

        </table>
    </div>

    <br>
           
        }



    <br>

    <!-- 評價導遊的地方 -->

    <div id="scorezone">
        <h3 class="text-center">評價導遊</h3>
        <div id="myscore">
            <br>
            <span style="margin: 10px;">導遊評價：</span>

            <span id="star">

                <span class="rank-not-rated" data-rating="1">&#128970;</span>
                <span class="rank-not-rated" data-rating="2">&#128970;</span>
                <span class="rank-not-rated" data-rating="3">&#128970;</span>
                <span class="rank-not-rated" data-rating="4">&#128970;</span>
                <span class="rank-not-rated" data-rating="5">&#128970;</span>
                <span id="score" style="color: #3A326D; font-size: 15px;"></span>
            </span>
            <br>
            <br>

            <textarea type="text" placeholder="輸入您的評價" id="write"
                      style="resize:none; height: 120px ; width:100% ; background-color: #cacde4;color: #3A326D ;"></textarea>
        </div>


        <br>
        <div id="endBtn" class="row">

            <div class="col-10 text-center"></div>


            <div class="col-2 text-end">
                <button id="submitBtn " class="btn" style="background-color: #4e5482 ;color: #e8eafe;">送出評價</button>

            </div>

        </div>



    </div>



</div>

